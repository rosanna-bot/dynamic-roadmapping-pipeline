<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dynamic Roadmapping ‚Äî Miro Design System</title>
<style>
  :root {
    /* MDS Color Tokens - Light theme (Miro product) */
    --background-primary: #ffffff;
    --background-secondary: #f5f5f5;
    --background-tertiary: #ebebeb;
    --background-primary-hover: #f5f5f5;
    --background-brand-subtle: #e6e0fc;
    --background-brand-prominent: #4262ff;
    --background-danger-subtle: #fce4e4;
    --background-danger-prominent: #f24726;
    --background-warning-subtle: #fff4cc;
    --background-warning-prominent: #ffbf00;
    --background-success-subtle: #d9f2e3;
    --background-success-prominent: #23b45e;
    --background-info-subtle: #d6eeff;

    --text-primary: #050038;
    --text-secondary: #696580;
    --text-tertiary: #9b97ad;
    --text-brand: #4262ff;
    --text-danger: #f24726;
    --text-warning: #d19e00;
    --text-success: #1a8f4a;
    --text-on-brand: #ffffff;
    --text-on-danger: #ffffff;

    --border-primary: #e0dfe5;
    --border-secondary: #c9c7d1;
    --border-brand: #4262ff;
    --border-danger: #f24726;
    --border-warning: #ffbf00;
    --border-success: #23b45e;

    --icon-primary: #050038;
    --icon-secondary: #696580;
    --icon-brand: #4262ff;

    /* MDS Radii */
    --radius-100: 4px;
    --radius-200: 8px;
    --radius-300: 12px;
    --radius-400: 16px;
    --radius-full: 9999px;

    /* MDS Spacing */
    --space-50: 2px;
    --space-100: 4px;
    --space-150: 6px;
    --space-200: 8px;
    --space-250: 10px;
    --space-300: 12px;
    --space-400: 16px;
    --space-500: 20px;
    --space-600: 24px;
    --space-800: 32px;
    --space-1000: 40px;

    /* MDS Elevation */
    --elevation-100: 0 1px 3px rgba(5,0,56,0.08);
    --elevation-200: 0 2px 8px rgba(5,0,56,0.1);
    --elevation-300: 0 4px 16px rgba(5,0,56,0.12);
    --elevation-400: 0 8px 32px rgba(5,0,56,0.14);

    /* MDS Typography - Inter */
    --font: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  }

  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

  * { margin: 0; padding: 0; box-sizing: border-box; }
  body { font-family: var(--font); background: var(--background-secondary); color: var(--text-primary); -webkit-font-smoothing: antialiased; }

  /* Nav ‚Äî uses MDS Tabs pattern */
  .nav {
    position: fixed; top: 0; left: 0; right: 0; z-index: 100;
    background: var(--background-primary);
    border-bottom: 1px solid var(--border-primary);
    display: flex; align-items: center; padding: 0 var(--space-800); height: 52px; gap: var(--space-200);
  }
  .nav-logo {
    font-weight: 700; font-size: 14px; color: var(--text-brand); margin-right: var(--space-600);
    display: flex; align-items: center; gap: var(--space-200);
  }
  /* MDS Tabs variant="buttons" */
  .tab-list { display: flex; gap: var(--space-100); background: var(--background-secondary); padding: 2px; border-radius: var(--radius-200); }
  .tab {
    padding: 6px 14px; border-radius: var(--radius-100); font-size: 13px; font-weight: 500;
    color: var(--text-secondary); cursor: pointer; border: none; background: transparent;
    transition: all 0.15s;
  }
  .tab:hover { color: var(--text-primary); background: var(--background-primary-hover); }
  .tab.active { color: var(--text-primary); background: var(--background-primary); box-shadow: var(--elevation-100); }

  /* Screens */
  .screen { display: none; padding: 72px var(--space-800) var(--space-1000); min-height: 100vh; }
  .screen.active { display: block; }
  .screen-header { max-width: 720px; margin: 0 auto var(--space-800); }
  .screen-title { font-size: 24px; font-weight: 700; letter-spacing: -0.3px; margin-bottom: var(--space-100); color: var(--text-primary); }
  .screen-desc { font-size: 14px; color: var(--text-secondary); line-height: 1.55; }

  /* MDS Tag component */
  .tag {
    display: inline-flex; align-items: center; gap: var(--space-100);
    padding: 2px 8px; border-radius: var(--radius-100);
    font-size: 11px; font-weight: 600; line-height: 18px; white-space: nowrap;
  }
  .tag-danger-subtle { background: var(--background-danger-subtle); color: var(--text-danger); }
  .tag-danger-prominent { background: var(--background-danger-prominent); color: var(--text-on-danger); }
  .tag-warning-subtle { background: var(--background-warning-subtle); color: var(--text-warning); }
  .tag-success-subtle { background: var(--background-success-subtle); color: var(--text-success); }
  .tag-primary-subtle { background: var(--background-brand-subtle); color: var(--text-brand); }
  .tag-neutral { background: var(--background-tertiary); color: var(--text-secondary); }
  .tag-icon { width: 12px; height: 12px; }

  /* MDS Button component */
  .btn {
    display: inline-flex; align-items: center; justify-content: center; gap: var(--space-200);
    font-family: var(--font); font-size: 13px; font-weight: 600; line-height: 1;
    border-radius: var(--radius-200); cursor: pointer; transition: all 0.12s;
    white-space: nowrap;
  }
  .btn-md { padding: 8px 16px; }
  .btn-sm { padding: 6px 12px; font-size: 12px; }
  .btn-primary { background: var(--background-brand-prominent); color: var(--text-on-brand); border: none; }
  .btn-primary:hover { background: #3554db; }
  .btn-secondary { background: var(--background-primary); color: var(--text-primary); border: 1px solid var(--border-secondary); }
  .btn-secondary:hover { background: var(--background-secondary); }
  .btn-tertiary { background: transparent; color: var(--text-secondary); border: 1px solid transparent; }
  .btn-tertiary:hover { background: var(--background-secondary); color: var(--text-primary); }
  .btn-ghost { background: transparent; color: var(--text-secondary); border: none; }
  .btn-ghost:hover { color: var(--text-primary); background: var(--background-secondary); }
  .btn-danger-secondary { background: var(--background-primary); color: var(--text-danger); border: 1px solid var(--border-danger); }

  /* MDS Callout */
  .callout {
    display: flex; gap: var(--space-300); padding: var(--space-400) var(--space-500);
    border-radius: var(--radius-200); font-size: 13px; line-height: 1.5;
  }
  .callout-info { background: var(--background-info-subtle); }
  .callout-warning { background: var(--background-warning-subtle); }
  .callout-danger { background: var(--background-danger-subtle); }
  .callout-success { background: var(--background-success-subtle); }
  .callout-icon { flex-shrink: 0; margin-top: 1px; }

  /* === BRIEFING SCREEN === */
  .briefing-wrap { max-width: 720px; margin: 0 auto; }

  .briefing-bar {
    display: flex; align-items: center; justify-content: space-between;
    padding: var(--space-400) var(--space-500); background: var(--background-primary);
    border: 1px solid var(--border-primary); border-radius: var(--radius-300) var(--radius-300) 0 0;
  }
  .briefing-bar h2 { font-size: 16px; font-weight: 700; display: flex; align-items: center; gap: var(--space-200); }
  .briefing-bar .meta { font-size: 12px; color: var(--text-tertiary); }

  .briefing-stats {
    display: flex; gap: var(--space-500); padding: var(--space-300) var(--space-500);
    background: var(--background-primary); border-left: 1px solid var(--border-primary);
    border-right: 1px solid var(--border-primary); font-size: 12px; color: var(--text-secondary);
  }
  .briefing-stats span { display: flex; align-items: center; gap: var(--space-100); }

  .evidence-card {
    background: var(--background-primary);
    border-left: 1px solid var(--border-primary);
    border-right: 1px solid var(--border-primary);
    border-bottom: 1px solid var(--border-primary);
    padding: var(--space-500) var(--space-500) var(--space-500);
    transition: background 0.12s;
  }
  .evidence-card:hover { background: var(--background-primary-hover); }
  .evidence-card:last-of-type { border-radius: 0 0 var(--radius-300) var(--radius-300); }
  .evidence-card.border-danger { border-left: 3px solid var(--border-danger); }
  .evidence-card.border-warning { border-left: 3px solid var(--border-warning); }
  .evidence-card.border-brand { border-left: 3px solid var(--border-brand); }

  .ec-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: var(--space-200); }
  .ec-headline { font-size: 15px; font-weight: 600; line-height: 1.4; color: var(--text-primary); margin-bottom: var(--space-300); }

  .signal-grid { display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-200) var(--space-400); margin-bottom: var(--space-300); }
  .signal-item { display: flex; align-items: flex-start; gap: var(--space-200); font-size: 12px; line-height: 1.45; }
  .signal-dot { width: 6px; height: 6px; border-radius: var(--radius-full); flex-shrink: 0; margin-top: 5px; }
  .signal-dot.voc { background: var(--background-brand-prominent); }
  .signal-dot.usage { background: var(--background-success-prominent); }
  .signal-dot.strategy { background: var(--background-danger-prominent); }
  .signal-dot.market { background: var(--background-warning-prominent); }
  .signal-dot.empty { background: var(--background-tertiary); }
  .signal-type { font-size: 10px; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; color: var(--text-tertiary); }
  .signal-text { color: var(--text-secondary); }
  .signal-text strong { color: var(--text-primary); font-weight: 600; }

  .ec-interpretation {
    padding: var(--space-300) var(--space-400); margin-bottom: var(--space-300);
    background: var(--background-secondary); border-radius: var(--radius-200);
    border-left: 2px solid var(--border-brand);
    font-size: 13px; color: var(--text-secondary); line-height: 1.5;
  }
  .ec-interpretation .arrow { color: var(--text-brand); font-weight: 600; }

  .ec-actions { display: flex; gap: var(--space-200); }

  /* Summary Tiles */
  .briefing-tiles {
    display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-300);
    margin-bottom: var(--space-500);
  }
  .btile {
    background: var(--background-primary); border: 1px solid var(--border-primary);
    border-radius: var(--radius-300); padding: var(--space-400) var(--space-500);
    transition: all 0.15s; cursor: pointer; position: relative; overflow: hidden;
  }
  .btile:hover { box-shadow: var(--elevation-200); border-color: var(--border-secondary); transform: translateY(-1px); }
  .btile-num { font-size: 28px; font-weight: 700; line-height: 1.1; margin-bottom: var(--space-100); }
  .btile-label { font-size: 12px; color: var(--text-secondary); line-height: 1.35; }
  .btile-bar { height: 4px; background: var(--background-tertiary); border-radius: var(--radius-full); margin-top: var(--space-300); }
  .btile-bar-fill { height: 100%; border-radius: var(--radius-full); transition: width 0.6s ease; }
  .btile-confidence { border-left: 3px solid var(--background-brand-prominent); }
  .btile-confidence .btile-num { color: var(--text-brand); }
  .btile-confidence:hover { background: var(--background-brand-subtle); }
  .btile-strengthened { border-left: 3px solid var(--background-success-prominent); }
  .btile-strengthened .btile-num { color: var(--text-success); }
  .btile-strengthened:hover { background: var(--background-success-subtle); }
  .btile-newsignal { border-left: 3px solid var(--background-brand-prominent); }
  .btile-newsignal .btile-num { color: var(--text-brand); }
  .btile-newsignal:hover { background: var(--background-brand-subtle); }
  .btile-weakened { border-left: 3px solid var(--background-danger-prominent); }
  .btile-weakened .btile-num { color: var(--text-danger); }
  .btile-weakened:hover { background: var(--background-danger-subtle); }
  @media (max-width: 600px) { .briefing-tiles { grid-template-columns: 1fr 1fr; } }

  /* Briefing Footer / Health */
  .briefing-footer {
    margin-top: var(--space-500); background: var(--background-primary);
    border: 1px solid var(--border-primary); border-radius: var(--radius-300);
    padding: var(--space-500);
  }
  .health-row {
    display: flex; align-items: center; justify-content: space-between;
    margin-bottom: var(--space-300); font-size: 13px;
  }
  .health-row:last-child { margin-bottom: 0; }
  .health-label { color: var(--text-secondary); display: flex; align-items: center; gap: var(--space-200); }
  .health-value { font-weight: 600; color: var(--text-primary); }
  .progress-track { height: 6px; flex: 1; max-width: 200px; background: var(--background-tertiary); border-radius: var(--radius-full); margin: 0 var(--space-400); }
  .progress-fill { height: 100%; border-radius: var(--radius-full); background: var(--background-brand-prominent); }
  /* MDS Slider stand-in */
  .sensitivity { display: flex; align-items: center; gap: var(--space-300); margin-top: var(--space-400); padding-top: var(--space-400); border-top: 1px solid var(--border-primary); }
  .sensitivity-label { font-size: 12px; color: var(--text-tertiary); white-space: nowrap; }
  .slider-track { flex: 1; max-width: 200px; height: 4px; background: var(--background-tertiary); border-radius: var(--radius-full); position: relative; }
  .slider-fill { height: 100%; width: 35%; background: var(--background-brand-prominent); border-radius: var(--radius-full); }
  .slider-thumb {
    position: absolute; top: -6px; left: 35%; width: 16px; height: 16px;
    background: var(--background-primary); border: 2px solid var(--background-brand-prominent);
    border-radius: var(--radius-full); box-shadow: var(--elevation-200); cursor: pointer;
    transform: translateX(-50%);
  }

  /* === BACKLOG SCREEN === */
  .backlog-wrap { max-width: 1200px; margin: 0 auto; }
  .toolbar {
    display: flex; gap: var(--space-200); align-items: center;
    margin-bottom: var(--space-500);
  }
  .toolbar-spacer { flex: 1; }

  .kanban { display: grid; grid-template-columns: repeat(4, 1fr); gap: var(--space-400); }
  .kanban-col {
    background: var(--background-primary); border: 1px solid var(--border-primary);
    border-radius: var(--radius-300); padding: var(--space-400); min-height: 460px;
  }
  .col-head { display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-400); }
  .col-title { font-size: 13px; font-weight: 700; }
  .col-count { font-size: 11px; color: var(--text-tertiary); background: var(--background-secondary); padding: 1px 8px; border-radius: var(--radius-full); }
  .col-sub { font-size: 11px; color: var(--text-tertiary); margin-top: 2px; }

  .kcard {
    background: var(--background-primary); border: 1px solid var(--border-primary);
    border-radius: var(--radius-200); padding: var(--space-300); margin-bottom: var(--space-200);
    cursor: grab; transition: all 0.12s;
  }
  .kcard:hover { box-shadow: var(--elevation-200); border-color: var(--border-secondary); }
  .kcard.ai-border { border-style: dashed; border-color: rgba(66,98,255,0.4); }
  .kcard-top { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: var(--space-200); }
  .kcard-title { font-size: 13px; font-weight: 600; line-height: 1.35; flex: 1; }
  .kcard-dots { display: flex; gap: 4px; margin-bottom: var(--space-200); }
  .kcard-dot { width: 6px; height: 6px; border-radius: var(--radius-full); }
  .kcard-dot.on { opacity: 1; }
  .kcard-dot.off { opacity: 0.15; }
  .kcard-meta { font-size: 11px; color: var(--text-tertiary); display: flex; justify-content: space-between; }
  .kcard-score { font-weight: 600; color: var(--text-secondary); }
  .ai-label { font-size: 10px; color: var(--text-brand); font-weight: 600; display: flex; align-items: center; gap: 3px; margin-bottom: var(--space-100); }

  /* === PLAN SCREEN === */
  .plan-wrap { max-width: 1100px; margin: 0 auto; }
  .tl-container { background: var(--background-primary); border: 1px solid var(--border-primary); border-radius: var(--radius-300); overflow: hidden; }
  .tl-head { display: flex; border-bottom: 1px solid var(--border-primary); }
  .tl-label-col { width: 260px; flex-shrink: 0; padding: var(--space-300) var(--space-400); font-size: 12px; font-weight: 600; color: var(--text-secondary); }
  .tl-quarters { display: grid; grid-template-columns: repeat(3, 1fr); flex: 1; }
  .tl-q { text-align: center; font-size: 12px; font-weight: 600; color: var(--text-tertiary); padding: var(--space-300); border-left: 1px solid var(--border-primary); }
  .tl-q.current { color: var(--text-brand); }

  .tl-section-head {
    display: flex; align-items: center; gap: var(--space-200);
    padding: var(--space-300) var(--space-400); background: var(--background-secondary);
    border-bottom: 1px solid var(--border-primary); font-size: 13px; font-weight: 700;
  }

  .tl-row {
    display: flex; border-bottom: 1px solid var(--border-primary); transition: background 0.1s;
  }
  .tl-row:hover { background: var(--background-primary-hover); }
  .tl-row:last-child { border-bottom: none; }
  .tl-item-label {
    width: 260px; flex-shrink: 0; padding: var(--space-300) var(--space-400);
    display: flex; align-items: center; gap: var(--space-200); font-size: 13px;
  }
  .evidence-pip { width: 8px; height: 8px; border-radius: var(--radius-full); flex-shrink: 0; }
  .evidence-pip.strong { background: var(--background-danger-prominent); }
  .evidence-pip.validating { background: var(--background-warning-prominent); }
  .evidence-pip.moderate { background: var(--background-success-prominent); }

  .tl-bars { display: grid; grid-template-columns: repeat(12, 1fr); flex: 1; align-items: center; }
  .tl-cell { height: 100%; border-left: 1px solid rgba(224,223,229,0.5); display: flex; align-items: center; }
  .bar {
    height: 26px; width: 100%; border-radius: var(--radius-100);
    display: flex; align-items: center; justify-content: center;
    font-size: 10px; font-weight: 500;
  }
  .bar.danger { background: rgba(242,71,38,0.12); border: 1px solid rgba(242,71,38,0.25); color: var(--text-danger); }
  .bar.warning { background: rgba(255,191,0,0.12); border: 1px solid rgba(255,191,0,0.25); color: var(--text-warning); }
  .bar.success { background: rgba(35,180,94,0.12); border: 1px solid rgba(35,180,94,0.25); color: var(--text-success); }

  .pc-block { display: flex; align-items: center; gap: var(--space-400); }
  .pc-num { font-size: 28px; font-weight: 700; color: var(--text-brand); }
  .pc-label { font-size: 13px; color: var(--text-secondary); }
  .pc-sub { font-size: 11px; color: var(--text-tertiary); }

  .comp-row { display: flex; align-items: center; gap: var(--space-300); margin-bottom: var(--space-300); font-size: 12px; }
  .comp-logo {
    width: 28px; height: 28px; border-radius: var(--radius-200); background: var(--background-tertiary);
    display: flex; align-items: center; justify-content: center; font-size: 10px; font-weight: 700; color: var(--text-secondary);
  }
  .comp-name { font-weight: 600; }

  /* === PLAN CONFIDENCE BAR (top of Plan screen) === */
  .plan-confidence-bar {
    display: flex; align-items: center; justify-content: space-between;
    padding: var(--space-400) var(--space-500); margin-bottom: var(--space-500);
    background: var(--background-primary); border: 1px solid var(--border-primary);
    border-radius: var(--radius-300); box-shadow: var(--elevation-100);
  }
  .pcb-left { display: flex; align-items: center; gap: var(--space-400); flex: 1; }
  .pcb-score { font-size: 32px; font-weight: 700; color: var(--text-brand); line-height: 1; }
  .pcb-detail { flex-shrink: 0; }
  .pcb-label { font-size: 14px; font-weight: 600; color: var(--text-primary); }
  .pcb-sub { font-size: 12px; color: var(--text-tertiary); margin-top: 1px; }
  .pcb-progress {
    flex: 1; max-width: 180px; height: 6px;
    background: var(--background-tertiary); border-radius: var(--radius-full); overflow: hidden;
  }
  .pcb-progress-fill { height: 100%; border-radius: var(--radius-full); background: var(--background-brand-prominent); }
  .pcb-right { display: flex; align-items: center; gap: var(--space-300); flex-shrink: 0; }

  /* === SIDEKICK SIDE PANEL === */
  .sidekick-overlay {
    position: fixed; top: 0; left: 0; right: 0; bottom: 0;
    background: rgba(5,0,56,0.15); z-index: 200;
    opacity: 0; pointer-events: none; transition: opacity 0.25s;
  }
  .sidekick-overlay.open { opacity: 1; pointer-events: auto; }

  .sidekick-panel {
    position: fixed; top: 0; right: 0; bottom: 0; width: 420px; z-index: 201;
    background: var(--background-primary); border-left: 1px solid var(--border-primary);
    box-shadow: -8px 0 32px rgba(5,0,56,0.12);
    transform: translateX(100%); transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    display: flex; flex-direction: column; overflow: hidden;
  }
  .sidekick-panel.open { transform: translateX(0); }

  .sp-header {
    padding: var(--space-400) var(--space-500); border-bottom: 1px solid var(--border-primary);
    display: flex; align-items: center; justify-content: space-between; flex-shrink: 0;
  }
  .sp-header-left { display: flex; align-items: center; gap: var(--space-200); }
  .sp-ai-icon {
    width: 28px; height: 28px; border-radius: var(--radius-200);
    background: var(--background-brand-prominent); color: white;
    display: flex; align-items: center; justify-content: center;
    font-size: 14px; flex-shrink: 0;
  }
  .sp-header-title { font-size: 14px; font-weight: 700; }
  .sp-close {
    width: 28px; height: 28px; border-radius: var(--radius-200);
    background: var(--background-secondary); border: 1px solid var(--border-primary);
    display: flex; align-items: center; justify-content: center;
    cursor: pointer; font-size: 13px; color: var(--text-secondary);
    transition: background 0.12s;
  }
  .sp-close:hover { background: var(--background-tertiary); }

  .sp-body {
    flex: 1; overflow-y: auto; padding: var(--space-500);
    display: flex; flex-direction: column; gap: var(--space-400);
  }

  .sp-context {
    padding: var(--space-400); background: var(--background-secondary);
    border-radius: var(--radius-200); border: 1px solid var(--border-primary);
  }
  .sp-context-title {
    font-size: 14px; font-weight: 700; margin-bottom: var(--space-100);
    display: flex; align-items: center; gap: var(--space-200);
  }
  .sp-context-meta { font-size: 12px; color: var(--text-secondary); }

  .sp-ai-msg {
    display: flex; gap: var(--space-300); align-items: flex-start;
  }
  .sp-ai-msg .sp-ai-avatar {
    width: 24px; height: 24px; border-radius: var(--radius-100);
    background: var(--background-brand-prominent); color: white;
    display: flex; align-items: center; justify-content: center;
    font-size: 11px; flex-shrink: 0; margin-top: 2px;
  }
  .sp-ai-msg .sp-ai-text {
    font-size: 13px; color: var(--text-secondary); line-height: 1.6;
    background: var(--background-secondary); padding: var(--space-300) var(--space-400);
    border-radius: 2px var(--radius-200) var(--radius-200) var(--radius-200);
    border: 1px solid var(--border-primary);
  }

  .sp-dive-options {
    display: flex; flex-wrap: wrap; gap: var(--space-200);
  }
  .sp-dive-btn {
    display: flex; align-items: center; gap: var(--space-150);
    padding: var(--space-200) var(--space-300); border-radius: var(--radius-full);
    font-size: 12px; font-weight: 500; cursor: pointer; transition: all 0.12s;
    border: 1px solid var(--border-primary); background: var(--background-primary);
    color: var(--text-secondary); font-family: var(--font);
  }
  .sp-dive-btn:hover { border-color: var(--border-brand); color: var(--text-brand); background: var(--background-brand-subtle); }
  .sp-dive-btn.active { border-color: var(--border-brand); color: var(--text-on-brand); background: var(--background-brand-prominent); }
  .sp-dive-dot { width: 6px; height: 6px; border-radius: var(--radius-full); }

  .sp-quotes-section { display: none; }
  .sp-quotes-section.visible { display: block; }

  .sp-section-head {
    font-size: 11px; font-weight: 700; text-transform: uppercase; letter-spacing: 0.5px;
    color: var(--text-tertiary); margin-bottom: var(--space-300);
    display: flex; align-items: center; gap: var(--space-200);
  }
  .sp-quote-card {
    background: var(--background-secondary); border: 1px solid var(--border-primary);
    border-radius: var(--radius-200); padding: var(--space-400); margin-bottom: var(--space-200);
    border-left: 2px solid var(--border-brand); transition: background 0.12s;
  }
  .sp-quote-card:hover { background: var(--background-primary-hover); }
  .sp-quote-text { font-size: 13px; color: var(--text-primary); line-height: 1.55; margin-bottom: var(--space-200); font-style: italic; }
  .sp-quote-source { display: flex; align-items: center; justify-content: space-between; }
  .sp-quote-attr { font-size: 11px; color: var(--text-tertiary); }
  .sp-quote-tags { display: flex; gap: var(--space-100); }

  .sp-usage-card {
    background: var(--background-secondary); border: 1px solid var(--border-primary);
    border-radius: var(--radius-200); padding: var(--space-400);
    margin-bottom: var(--space-200);
  }
  .sp-usage-stat { font-size: 20px; font-weight: 700; color: var(--text-primary); }
  .sp-usage-label { font-size: 12px; color: var(--text-secondary); margin-bottom: var(--space-200); }
  .sp-usage-bar-track {
    height: 8px; background: var(--background-tertiary); border-radius: var(--radius-full);
    overflow: hidden; margin-bottom: var(--space-100);
  }
  .sp-usage-bar-fill { height: 100%; border-radius: var(--radius-full); transition: width 0.5s ease; }

  .sp-footer {
    padding: var(--space-300) var(--space-500); border-top: 1px solid var(--border-primary);
    flex-shrink: 0;
  }
  .sp-input-row { display: flex; gap: var(--space-200); }
  .sp-input {
    flex: 1; padding: var(--space-250) var(--space-300); border-radius: var(--radius-200);
    background: var(--background-secondary); border: 1px solid var(--border-primary);
    font-size: 13px; font-family: var(--font); color: var(--text-primary);
    transition: border-color 0.12s;
  }
  .sp-input::placeholder { color: var(--text-tertiary); }
  .sp-input:focus { outline: none; border-color: var(--border-brand); }

  .sp-validate-btn {
    display: flex; align-items: center; gap: var(--space-150);
    padding: var(--space-200) var(--space-300); border-radius: var(--radius-200);
    font-size: 11px; font-weight: 600; cursor: pointer;
    border: 1px solid var(--border-primary); background: var(--background-primary);
    color: var(--text-secondary); font-family: var(--font); transition: all 0.12s;
    margin-top: var(--space-200);
  }
  .sp-validate-btn:hover { border-color: var(--border-success); color: var(--text-success); background: var(--background-success-subtle); }

  /* === PLAN RECOMMENDATION CARDS === */
  .sp-rec-card {
    background: var(--background-primary); border: 1px solid var(--border-primary);
    border-radius: var(--radius-200); overflow: hidden; cursor: pointer;
    transition: border-color 0.12s, box-shadow 0.12s;
  }
  .sp-rec-card:hover { border-color: var(--border-secondary); box-shadow: var(--elevation-100); }
  .sp-rec-header {
    display: flex; align-items: flex-start; gap: var(--space-300);
    padding: var(--space-400);
  }
  .sp-rec-num {
    width: 24px; height: 24px; border-radius: var(--radius-full);
    background: var(--background-brand-subtle); color: var(--text-brand);
    display: flex; align-items: center; justify-content: center;
    font-size: 12px; font-weight: 700; flex-shrink: 0;
  }
  .sp-rec-content { flex: 1; min-width: 0; }
  .sp-rec-title { font-size: 13px; font-weight: 600; color: var(--text-primary); margin-bottom: var(--space-100); }
  .sp-rec-reason { font-size: 12px; color: var(--text-secondary); line-height: 1.5; }
  .sp-rec-detail {
    display: none; padding: 0 var(--space-400) var(--space-400);
    border-top: 1px solid var(--border-primary); margin-top: 0;
  }
  .sp-rec-detail.visible { display: block; padding-top: var(--space-400); }
  .sp-rec-evidence { }

  /* Highlight active card */
  .evidence-card.panel-active { background: var(--background-brand-subtle); border-color: var(--border-brand); }
  .kcard.panel-active { background: var(--background-brand-subtle); border-color: var(--border-brand) !important; }

  @media (max-width: 900px) {
    .kanban { grid-template-columns: 1fr 1fr; }
    .sidekick-panel { width: 100%; }
    .spot-main { padding-right: 0; }
    .spot-sidekick { width: 100%; margin: var(--space-500) 0 0; border-left: none; border-top: 1px solid var(--border-primary); padding-top: 0; }
  }
</style>
</head>
<body>

<nav class="nav">
  <div class="nav-logo">
    <svg width="20" height="20" viewBox="0 0 24 24" fill="none"><rect x="3" y="3" width="18" height="18" rx="3" stroke="currentColor" stroke-width="2"/><path d="M7 8h10M7 12h7M7 16h4" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
    Miro Roadmaps
  </div>
  <div class="tab-list">
    <button class="tab active" onclick="go('briefing',this)">The Briefing</button>
    <button class="tab" onclick="go('backlog',this)">The Backlog</button>
    <button class="tab" onclick="go('plan',this)">The Plan</button>
  </div>
</nav>

<!-- BRIEFING -->
<div id="briefing" class="screen active">
  <div class="briefing-wrap">
    <div class="screen-header">
      <div class="screen-title">Zone 1: The Briefing</div>
      <div class="screen-desc">3‚Äì7 finite evidence cards using MDS Tag, Button, Callout, and Slider components. Confidence communicated via Tag variants (danger/warning/primary).</div>
    </div>

    <div class="briefing-tiles">
      <div class="btile btile-strengthened" onclick="openStrengthened()">
        <div class="btile-num">2 <span style="font-size:16px; color:var(--text-success)">‚Üë</span></div>
        <div class="btile-label">Strengthened</div>
      </div>
      <div class="btile btile-newsignal" onclick="openNewSignals()">
        <div class="btile-num">1 <span style="font-size:16px; color:var(--text-brand)">+</span></div>
        <div class="btile-label">New signal</div>
      </div>
      <div class="btile btile-weakened" onclick="openWeakened()">
        <div class="btile-num">1 <span style="font-size:16px; color:var(--text-danger)">‚Üì</span></div>
        <div class="btile-label">Weakened</div>
      </div>
      <div class="btile btile-confidence" onclick="goToPlanWithSidekick()">
        <div class="btile-num">72%</div>
        <div class="btile-label">Plan confidence</div>
        <div class="btile-bar"><div class="btile-bar-fill" style="width:72%; background:var(--background-brand-prominent)"></div></div>
      </div>
    </div>

    <div class="briefing-bar">
      <h2>üìã Your Briefing</h2>
      <div class="meta">Feb 19, 2026 ¬∑ Updated 2h ago ¬∑ ~3 min read</div>
    </div>
    <!-- HIGH card -->
    <div class="evidence-card border-danger" onclick="openPanel('jira-custom-fields',this)" style="cursor:pointer">
      <div class="ec-header">
        <span></span>
        <span class="tag tag-danger-subtle">High confidence</span>
      </div>
      <div class="ec-headline">Jira custom fields demand surged +65% this quarter</div>
      <div class="signal-grid">
        <div class="signal-item">
          <div class="signal-dot voc"></div>
          <div><div class="signal-type">Voice of Customer</div><div class="signal-text"><strong>43 mentions</strong> ¬∑ 12 accounts ¬∑ $2.1M ARR</div></div>
        </div>
        <div class="signal-item">
          <div class="signal-dot usage"></div>
          <div><div class="signal-type">Usage</div><div class="signal-text">Jira users have <strong>4x engagement</strong></div></div>
        </div>
        <div class="signal-item">
          <div class="signal-dot strategy"></div>
          <div><div class="signal-type">Strategy</div><div class="signal-text">Maps to <strong>O1: Win R&D ($82M)</strong></div></div>
        </div>
        <div class="signal-item">
          <div class="signal-dot market"></div>
          <div><div class="signal-type">Market</div><div class="signal-text"><strong>Asana</strong> shipped this GA Oct 2025</div></div>
        </div>
      </div>
      <div class="ec-interpretation">
        <span class="arrow">‚ñ∏</span> Time-sensitive ‚Äî competitor gap is closing. Demand accelerating while the window for differentiation narrows.
      </div>
      <div class="ec-actions">
        <button class="btn btn-sm btn-primary">Investigate</button>
        <button class="btn btn-sm btn-secondary">View evidence</button>
        <button class="btn btn-sm btn-tertiary">Go to backlog item</button>
      </div>
    </div>

    <!-- MEDIUM card -->
    <div class="evidence-card border-warning" onclick="openPanel('silent-abandonment',this)" style="cursor:pointer">
      <div class="ec-header">
        <span></span>
        <span class="tag tag-warning-subtle">Medium confidence</span>
      </div>
      <div class="ec-headline">Feature adoption dropped below 5% threshold ‚Äî silent abandonment</div>
      <div class="signal-grid">
        <div class="signal-item">
          <div class="signal-dot empty"></div>
          <div><div class="signal-type">Voice of Customer</div><div class="signal-text"><strong>No complaints</strong> ‚Äî that's the concern</div></div>
        </div>
        <div class="signal-item">
          <div class="signal-dot usage"></div>
          <div><div class="signal-type">Usage</div><div class="signal-text"><strong>8.2% ‚Üí 4.7%</strong> over 6 weeks</div></div>
        </div>
        <div class="signal-item">
          <div class="signal-dot strategy"></div>
          <div><div class="signal-type">Strategy</div><div class="signal-text">Supports <strong>O2: Drive Adoption</strong></div></div>
        </div>
        <div class="signal-item">
          <div class="signal-dot empty"></div>
          <div><div class="signal-type">Market</div><div class="signal-text" style="color:var(--text-tertiary)">No competitor activity</div></div>
        </div>
      </div>
      <div class="ec-interpretation">
        <span class="arrow">‚ñ∏</span> Usage declining without complaints ‚Äî users may be silently abandoning rather than requesting improvements.
      </div>
      <div class="ec-actions">
        <button class="btn btn-sm btn-secondary">View evidence</button>
        <button class="btn btn-sm btn-tertiary">Watch</button>
        <button class="btn btn-sm btn-ghost">Dismiss</button>
      </div>
    </div>

    <!-- NEW SIGNAL card -->
    <div class="evidence-card border-brand" onclick="openPanel('portfolio-view',this)" style="cursor:pointer">
      <div class="ec-header">
        <span></span>
        <span class="tag tag-primary-subtle">New signal</span>
      </div>
      <div class="ec-headline">3 enterprise accounts mentioned "portfolio view" ‚Äî wasn't in your top 20</div>
      <div class="signal-grid">
        <div class="signal-item">
          <div class="signal-dot voc"></div>
          <div><div class="signal-type">Voice of Customer</div><div class="signal-text"><strong>3 accounts</strong> ¬∑ $890K combined ARR</div></div>
        </div>
        <div class="signal-item">
          <div class="signal-dot empty"></div>
          <div><div class="signal-type">Usage</div><div class="signal-text" style="color:var(--text-tertiary)">Not enough data yet</div></div>
        </div>
        <div class="signal-item">
          <div class="signal-dot empty"></div>
          <div><div class="signal-type">Strategy</div><div class="signal-text" style="color:var(--text-tertiary)">Not yet mapped</div></div>
        </div>
        <div class="signal-item">
          <div class="signal-dot empty"></div>
          <div><div class="signal-type">Market</div><div class="signal-text" style="color:var(--text-tertiary)">Not enough data yet</div></div>
        </div>
      </div>
      <div class="ec-actions">
        <button class="btn btn-sm btn-secondary">Watch</button>
        <button class="btn btn-sm btn-tertiary">Create backlog item</button>
        <button class="btn btn-sm btn-ghost">Dismiss</button>
      </div>
    </div>

  </div>
</div>

<!-- BACKLOG -->
<div id="backlog" class="screen">
  <div class="backlog-wrap">
    <div class="screen-header">
      <div class="screen-title">Zone 2: The Backlog</div>
      <div class="screen-desc">Enriched Kanban with an AI-populated "Signals" column. Uses MDS Tag variants for confidence and signal dots for evidence coverage. Drag right to decide.</div>
    </div>

    <div class="toolbar">
      <div class="tab-list">
        <button class="tab active">‚ó´ Kanban</button>
        <button class="tab">‚â° Table</button>
        <button class="tab">‚îÅ Timeline</button>
      </div>
      <div class="toolbar-spacer"></div>
      <button class="btn btn-sm btn-secondary">Sort: Evidence strength ‚ñæ</button>
      <button class="btn btn-sm btn-secondary">Framework: RICE ‚ñæ</button>
      <button class="btn btn-sm btn-primary">+ Add item</button>
    </div>

    <div class="kanban">
      <div class="kanban-col" style="border-top:2px solid var(--background-brand-prominent)">
        <div class="col-head">
          <div><div class="col-title" style="color:var(--text-brand)">‚ú¶ Signals</div><div class="col-sub">AI-populated</div></div>
          <div class="col-count">3</div>
        </div>
        <div class="kcard ai-border" onclick="openPanel('portfolio-view',this)" style="cursor:pointer">
          <div class="ai-label">‚ú¶ AI suggested</div>
          <div class="kcard-top"><div class="kcard-title">Portfolio view for leaders</div><span class="tag tag-primary-subtle">New</span></div>
          <div class="kcard-dots"><div class="kcard-dot on" style="background:var(--background-brand-prominent)"></div><div class="kcard-dot off" style="background:var(--background-success-prominent)"></div><div class="kcard-dot off" style="background:var(--background-danger-prominent)"></div><div class="kcard-dot off" style="background:var(--background-warning-prominent)"></div></div>
          <div class="kcard-meta"><span>3 accounts ¬∑ $890K</span></div>
        </div>
        <div class="kcard ai-border" onclick="openPanel('ai-table-setup',this)" style="cursor:pointer">
          <div class="ai-label">‚ú¶ AI suggested</div>
          <div class="kcard-top"><div class="kcard-title">AI-assisted table setup</div><span class="tag tag-warning-subtle">Med</span></div>
          <div class="kcard-dots"><div class="kcard-dot off" style="background:var(--background-brand-prominent)"></div><div class="kcard-dot on" style="background:var(--background-success-prominent)"></div><div class="kcard-dot on" style="background:var(--background-danger-prominent)"></div><div class="kcard-dot off" style="background:var(--background-warning-prominent)"></div></div>
          <div class="kcard-meta"><span>53% deletion rate signal</span><span class="kcard-score">RICE: 64</span></div>
        </div>
        <div class="kcard ai-border" onclick="openPanel('silent-abandonment',this)" style="cursor:pointer">
          <div class="ai-label">‚ú¶ Anomaly detected</div>
          <div class="kcard-top"><div class="kcard-title">Feature Y silent abandonment</div><span class="tag tag-warning-subtle">Med</span></div>
          <div class="kcard-dots"><div class="kcard-dot off" style="background:var(--background-brand-prominent)"></div><div class="kcard-dot on" style="background:var(--background-success-prominent)"></div><div class="kcard-dot on" style="background:var(--background-danger-prominent)"></div><div class="kcard-dot off" style="background:var(--background-warning-prominent)"></div></div>
          <div class="kcard-meta"><span>Adoption: 8.2% ‚Üí 4.7%</span></div>
        </div>
      </div>

      <div class="kanban-col" style="border-top:2px solid var(--background-warning-prominent)">
        <div class="col-head"><div><div class="col-title" style="color:var(--text-warning)">Triage</div><div class="col-sub">Under review</div></div><div class="col-count">2</div></div>
        <div class="kcard" onclick="openPanel('jira-custom-fields',this)" style="cursor:pointer">
          <div class="kcard-top"><div class="kcard-title">Jira custom fields</div><span class="tag tag-danger-subtle">High</span></div>
          <div class="kcard-dots"><div class="kcard-dot on" style="background:var(--background-brand-prominent)"></div><div class="kcard-dot on" style="background:var(--background-success-prominent)"></div><div class="kcard-dot on" style="background:var(--background-danger-prominent)"></div><div class="kcard-dot on" style="background:var(--background-warning-prominent)"></div></div>
          <div class="kcard-meta"><span>43 mentions ¬∑ $2.1M</span><span class="kcard-score">RICE: 91</span></div>
        </div>
        <div class="kcard" onclick="openPanel('kanban-deps',this)" style="cursor:pointer">
          <div class="kcard-top"><div class="kcard-title">Kanban dependencies</div><span class="tag tag-warning-subtle">Med</span></div>
          <div class="kcard-dots"><div class="kcard-dot on" style="background:var(--background-brand-prominent)"></div><div class="kcard-dot on" style="background:var(--background-success-prominent)"></div><div class="kcard-dot off" style="background:var(--background-danger-prominent)"></div><div class="kcard-dot off" style="background:var(--background-warning-prominent)"></div></div>
          <div class="kcard-meta"><span>PayPal requested</span><span class="kcard-score">RICE: 58</span></div>
        </div>
      </div>

      <div class="kanban-col" style="border-top:2px solid var(--background-danger-prominent)">
        <div class="col-head"><div><div class="col-title" style="color:var(--text-danger)">Now</div><div class="col-sub">In progress</div></div><div class="col-count">2</div></div>
        <div class="kcard" onclick="openPanel('performance-at-scale',this)" style="cursor:pointer">
          <div class="kcard-top"><div class="kcard-title">Performance at scale</div><span class="tag tag-danger-subtle">High</span></div>
          <div class="kcard-dots"><div class="kcard-dot on" style="background:var(--background-brand-prominent)"></div><div class="kcard-dot on" style="background:var(--background-success-prominent)"></div><div class="kcard-dot on" style="background:var(--background-danger-prominent)"></div><div class="kcard-dot off" style="background:var(--background-warning-prominent)"></div></div>
          <div class="kcard-meta"><span>ZEISS blocker</span><span class="kcard-score">RICE: 88</span></div>
        </div>
        <div class="kcard" onclick="openPanel('convert-rows-jira',this)" style="cursor:pointer">
          <div class="kcard-top"><div class="kcard-title">Convert rows ‚Üí Jira tickets</div><span class="tag tag-danger-subtle">High</span></div>
          <div class="kcard-dots"><div class="kcard-dot on" style="background:var(--background-brand-prominent)"></div><div class="kcard-dot on" style="background:var(--background-success-prominent)"></div><div class="kcard-dot on" style="background:var(--background-danger-prominent)"></div><div class="kcard-dot on" style="background:var(--background-warning-prominent)"></div></div>
          <div class="kcard-meta"><span>Q1 confirmed build</span><span class="kcard-score">RICE: 95</span></div>
        </div>
      </div>

      <div class="kanban-col" style="border-top:2px solid var(--background-success-prominent)">
        <div class="col-head"><div><div class="col-title" style="color:var(--text-success)">Next</div><div class="col-sub">Planned</div></div><div class="col-count">3</div></div>
        <div class="kcard" onclick="openPanel('enriched-backlog',this)" style="cursor:pointer">
          <div class="kcard-top"><div class="kcard-title">Enriched backlog (Insights √ó Tables)</div><span class="tag tag-danger-subtle">High</span></div>
          <div class="kcard-dots"><div class="kcard-dot on" style="background:var(--background-brand-prominent)"></div><div class="kcard-dot off" style="background:var(--background-success-prominent)"></div><div class="kcard-dot on" style="background:var(--background-danger-prominent)"></div><div class="kcard-dot on" style="background:var(--background-warning-prominent)"></div></div>
          <div class="kcard-meta"><span>Productboard migration</span><span class="kcard-score">RICE: 82</span></div>
        </div>
        <div class="kcard" onclick="openPanel('views-parity',this)" style="cursor:pointer">
          <div class="kcard-top"><div class="kcard-title">Views parity (Timeline/Kanban)</div><span class="tag tag-warning-subtle">Med</span></div>
          <div class="kcard-dots"><div class="kcard-dot on" style="background:var(--background-brand-prominent)"></div><div class="kcard-dot on" style="background:var(--background-success-prominent)"></div><div class="kcard-dot on" style="background:var(--background-danger-prominent)"></div><div class="kcard-dot off" style="background:var(--background-warning-prominent)"></div></div>
          <div class="kcard-meta"><span>FY27 Q1 planning</span><span class="kcard-score">RICE: 71</span></div>
        </div>
        <div class="kcard" onclick="openPanel('ai-signal-synthesis',this)" style="cursor:pointer">
          <div class="kcard-top"><div class="kcard-title">AI signal synthesis (feasibility)</div><span class="tag tag-warning-subtle">Med</span></div>
          <div class="kcard-dots"><div class="kcard-dot off" style="background:var(--background-brand-prominent)"></div><div class="kcard-dot off" style="background:var(--background-success-prominent)"></div><div class="kcard-dot on" style="background:var(--background-danger-prominent)"></div><div class="kcard-dot on" style="background:var(--background-warning-prominent)"></div></div>
          <div class="kcard-meta"><span>Leapfrog bet</span><span class="kcard-score">RICE: 67</span></div>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- PLAN -->
<div id="plan" class="screen">
  <div class="plan-wrap">
    <div class="screen-header">
      <div class="screen-title">Zone 3: The Plan</div>
      <div class="screen-desc">Timeline with evidence overlay. Each item's confidence is visible via MDS Tag-colored pips. Stakeholders see what's committed and how well-supported it is.</div>
    </div>

    <div class="plan-confidence-bar">
      <div class="pcb-left">
        <div class="pcb-score">72%</div>
        <div class="pcb-detail">
          <div class="pcb-label">Plan confidence</div>
          <div class="pcb-sub">5 of 7 items have strong evidence ¬∑ 2 still validating</div>
        </div>
        <div class="pcb-progress"><div class="pcb-progress-fill" style="width:72%"></div></div>
      </div>
      <div class="pcb-right">
        <div class="callout callout-warning" style="padding:var(--space-200) var(--space-300); font-size:12px;">
          <div class="callout-icon" style="font-size:13px;">‚ö†Ô∏è</div>
          <div><strong>AI Signal Synthesis</strong> still validating</div>
        </div>
        <button class="btn btn-sm btn-primary" onclick="openPlanSidekick()" style="gap:var(--space-150);">‚ú¶ Suggested actions</button>
      </div>
    </div>

    <div class="tl-container">
      <div class="tl-head">
        <div class="tl-label-col">Initiative</div>
        <div class="tl-quarters"><div class="tl-q current">Q1 FY27</div><div class="tl-q">Q2 FY27</div><div class="tl-q">Q3 FY27</div></div>
      </div>
      <div class="tl-section-head">O1: Win R&D ‚Äî $82M Bookings <span class="tag tag-primary-subtle">Track A</span></div>
      <div class="tl-row"><div class="tl-item-label"><div class="evidence-pip strong"></div>Enriched Backlog</div><div class="tl-bars"><div class="tl-cell"><div class="bar danger"></div></div><div class="tl-cell"><div class="bar danger"></div></div><div class="tl-cell"><div class="bar danger"></div></div><div class="tl-cell"><div class="bar danger"></div></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div></div></div>
      <div class="tl-row"><div class="tl-item-label"><div class="evidence-pip strong"></div>Jira Bi-directional</div><div class="tl-bars"><div class="tl-cell"><div class="bar danger"></div></div><div class="tl-cell"><div class="bar danger"></div></div><div class="tl-cell"><div class="bar danger"></div></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div></div></div>
      <div class="tl-row"><div class="tl-item-label"><div class="evidence-pip validating"></div>AI Signal Synthesis</div><div class="tl-bars"><div class="tl-cell"></div><div class="tl-cell"><div class="bar warning"></div></div><div class="tl-cell"><div class="bar warning"></div></div><div class="tl-cell"><div class="bar warning"></div></div><div class="tl-cell"><div class="bar warning"></div></div><div class="tl-cell"><div class="bar warning"></div></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div></div></div>
      <div class="tl-row"><div class="tl-item-label"><div class="evidence-pip moderate"></div>Roadmapping Space UX</div><div class="tl-bars"><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"><div class="bar success"></div></div><div class="tl-cell"><div class="bar success"></div></div><div class="tl-cell"><div class="bar success"></div></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div></div></div>

      <div class="tl-section-head">O2: Drive Adoption ‚Äî 60%+ MAU/Paid <span class="tag tag-success-subtle">Track B</span></div>
      <div class="tl-row"><div class="tl-item-label"><div class="evidence-pip strong"></div>Performance at Scale</div><div class="tl-bars"><div class="tl-cell"><div class="bar danger"></div></div><div class="tl-cell"><div class="bar danger"></div></div><div class="tl-cell"><div class="bar danger"></div></div><div class="tl-cell"><div class="bar danger"></div></div><div class="tl-cell"><div class="bar danger"></div></div><div class="tl-cell"><div class="bar danger"></div></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div></div></div>
      <div class="tl-row"><div class="tl-item-label"><div class="evidence-pip strong"></div>First Experience + AI</div><div class="tl-bars"><div class="tl-cell"></div><div class="tl-cell"><div class="bar danger"></div></div><div class="tl-cell"><div class="bar danger"></div></div><div class="tl-cell"><div class="bar danger"></div></div><div class="tl-cell"><div class="bar danger"></div></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div></div></div>
      <div class="tl-row"><div class="tl-item-label"><div class="evidence-pip moderate"></div>Views Parity + Kanban</div><div class="tl-bars"><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"><div class="bar success"></div></div><div class="tl-cell"><div class="bar success"></div></div><div class="tl-cell"><div class="bar success"></div></div><div class="tl-cell"><div class="bar success"></div></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div><div class="tl-cell"></div></div></div>
    </div>
  </div>
</div>



<div class="sidekick-overlay" id="skOverlay" onclick="closePanel()"></div>
<div class="sidekick-panel" id="skPanel">
  <div class="sp-header">
    <div class="sp-header-left">
      <div class="sp-ai-icon">‚ú¶</div>
      <div class="sp-header-title">Sidekick</div>
    </div>
    <div class="sp-close" onclick="closePanel()">‚úï</div>
  </div>
  <div class="sp-body" id="skBody"></div>
  <div class="sp-footer">
    <div class="sp-input-row">
      <input class="sp-input" id="skInput" placeholder="Ask a follow-up question‚Ä¶" onkeydown="if(event.key==='Enter')sendMsg()">
      <button class="btn btn-sm btn-primary" onclick="sendMsg()">Ask</button>
    </div>
  </div>
</div>

<script>
const CARD_DATA = {
  'jira-custom-fields': {
    title: 'Jira Custom Fields',
    tag: 'tag-danger-subtle', tagText: 'High confidence',
    meta: '43 mentions ¬∑ 12 accounts ¬∑ $2.1M ARR ¬∑ RICE: 91',
    signals: {voc:true, usage:true, strategy:true, market:true},
    quotes: [
      { text: 'Every time I show agile teams the table/timeline widget, they ask about custom Jira fields. Every single time.', source: 'Dave Ross, Solutions Consultant', type: 'Internal', channel: 'Gong call' },
      { text: "We'd switch to Aha! if custom fields aren't on your H1 roadmap. This is a dealbreaker for our team.", source: 'ZEISS, Product Operations Lead', type: 'Enterprise', channel: 'Gong call', arr: '$420K' },
      { text: 'I get questions EVERY TIME I show agile teams the table/timeline widget about whether we support custom Jira fields.', source: 'Dave Ross', type: 'Internal', channel: 'Slack' },
      { text: 'The inability to pull custom Jira fields into timeline views is the #1 reason our DevOps teams won\'t adopt Miro for planning.', source: 'LEGO, Engineering Manager', type: 'Enterprise', channel: 'Gong call', arr: '$680K' },
      { text: "We need Fix Version, Components, and Team fields from Jira. Without those, the table is just a pretty spreadsheet.", source: 'PayPal, Senior PM', type: 'Enterprise', channel: 'Gong call', arr: '$310K' },
      { text: 'Accelerating the upstream is a major demo talking point ‚Äî Jira custom fields is what closes enterprise deals.', source: 'Amanda Biacchi Eloy, Sales', type: 'Internal', channel: 'Slack' },
      { text: "Can we PLEASE get custom Jira fields? I've had 3 prospects this week ask for it.", source: 'Alicia Tan, SE', type: 'Internal', channel: 'Slack #product-feedback' },
    ],
    usage: [
      { label: 'Jira-connected user engagement', value: '4x', detail: '12.4 active days/month vs 3.1 baseline', pct: 80, color: 'var(--background-success-prominent)' },
      { label: 'Jira-connected user retention', value: '52%', detail: 'vs 35% for non-connected users', pct: 52, color: 'var(--background-success-prominent)' },
      { label: 'Custom field requests in feedback', value: '+65%', detail: 'Quarter-over-quarter increase', pct: 65, color: 'var(--background-danger-prominent)' },
    ],
    strategy: ['O1: Win R&D ‚Äî $82M HT bookings (direct)', 'O2: Drive Adoption ‚Äî 60%+ MAU/Paid (direct)'],
    market: ['Asana: Custom fields in timeline ‚Äî GA Oct 2025', 'Monday.com: Deep Jira integration ‚Äî Beta Jan 2026', 'Linear: Native fields only, no Jira sync'],
  },
  'silent-abandonment': {
    title: 'Feature Y Silent Abandonment',
    tag: 'tag-warning-subtle', tagText: 'Medium confidence',
    meta: 'Adoption: 8.2% ‚Üí 4.7% over 6 weeks ¬∑ No customer complaints',
    signals: {voc:false, usage:true, strategy:true, market:false},
    quotes: [
      { text: 'No direct customer feedback about this feature decline ‚Äî which is the worrying part. Users aren\'t complaining, they\'re just leaving.', source: 'Analytics observation', type: 'Internal', channel: 'Usage data' },
    ],
    usage: [
      { label: 'Feature adoption rate', value: '4.7%', detail: 'Down from 8.2% six weeks ago', pct: 47, color: 'var(--background-danger-prominent)' },
      { label: 'Users who adopted ‚Üí retained', value: '68%', detail: 'High retention IF they adopt ‚Äî activation is the issue', pct: 68, color: 'var(--background-success-prominent)' },
    ],
    strategy: ['O2: Drive Adoption ‚Äî 60%+ MAU/Paid (supports)'],
    market: [],
  },
  'portfolio-view': {
    title: 'Portfolio View for Leaders',
    tag: 'tag-primary-subtle', tagText: 'New signal',
    meta: '3 accounts ¬∑ $890K combined ARR ¬∑ Emerging',
    signals: {voc:true, usage:false, strategy:false, market:false},
    quotes: [
      { text: 'I need a single view that shows me all 12 product roadmaps and their health status. Right now I use a spreadsheet.', source: 'Nemetschek, VP Product', type: 'Enterprise', channel: 'Gong call', arr: '$340K' },
      { text: 'Portfolio visibility is the reason we\'re evaluating Aha! Roadmaps. If Miro could do this natively, we\'d stay.', source: 'WPP, Head of Product Ops', type: 'Enterprise', channel: 'Gong call', arr: '$290K' },
      { text: 'Our leadership team wants a roll-up view across all teams. Right now everyone has their own board and nothing connects.', source: 'Reece Group, PM Lead', type: 'Enterprise', channel: 'Gong call', arr: '$260K' },
    ],
    usage: [],
    strategy: [],
    market: [],
  },
  'performance-at-scale': {
    title: 'Performance at Scale',
    tag: 'tag-danger-subtle', tagText: 'High confidence',
    meta: 'ZEISS blocker ¬∑ 100+ record tables freeze ¬∑ RICE: 88',
    signals: {voc:true, usage:true, strategy:true, market:false},
    quotes: [
      { text: 'We hit the performance limits with about 150 items. The table froze completely during our quarterly planning session.', source: 'ZEISS, Product Operations', type: 'Enterprise', channel: 'Gong call', arr: '$420K' },
      { text: 'Tables with 100+ records take 30+ seconds to load. For SPM use cases with 2,000 items, this is a non-starter.', source: 'Performance FY26 board', type: 'Internal', channel: 'Internal analysis' },
    ],
    usage: [
      { label: 'Tables 100+ records load time', value: '30s+', detail: 'Target: <3s', pct: 95, color: 'var(--background-danger-prominent)' },
      { label: 'Timeline 500 records (week view)', value: '8s', detail: 'Target: <5s', pct: 60, color: 'var(--background-warning-prominent)' },
    ],
    strategy: ['O1: Win R&D ‚Äî $82M bookings (hard blocker)', 'O2: Drive Adoption ‚Äî enterprise churn risk'],
    market: [],
  },
  'convert-rows-jira': {
    title: 'Convert Rows ‚Üí Jira Tickets',
    tag: 'tag-danger-subtle', tagText: 'High confidence',
    meta: 'Q1 confirmed build ¬∑ Sales asking constantly ¬∑ RICE: 95',
    signals: {voc:true, usage:true, strategy:true, market:true},
    quotes: [
      { text: 'The ability to convert table rows to Jira tickets would change everything for how teams plan in Miro.', source: 'Amanda Biacchi Eloy, Sales', type: 'Internal', channel: 'Slack' },
      { text: 'My teams brainstorm in Miro then manually copy everything to Jira. It takes hours. If I could push rows to Jira directly ‚Äî that\'s the killer feature.', source: 'LEGO, Agile Coach', type: 'Enterprise', channel: 'Gong call', arr: '$680K' },
    ],
    usage: [
      { label: 'Jira-connected engagement multiplier', value: '4x', detail: 'Active days/month vs non-connected', pct: 80, color: 'var(--background-success-prominent)' },
    ],
    strategy: ['O1: Win R&D ‚Äî enterprise deal enabler', 'O2: Drive Adoption ‚Äî workflow completion'],
    market: ['Monday.com: Native Jira ticket creation ‚Äî GA', 'Asana: Jira sync with task creation ‚Äî GA'],
  },
  'enriched-backlog': {
    title: 'Enriched Backlog (Insights √ó Tables)',
    tag: 'tag-danger-subtle', tagText: 'High confidence',
    meta: 'Productboard migration opportunity ¬∑ RICE: 82',
    signals: {voc:true, usage:false, strategy:true, market:true},
    quotes: [
      { text: 'We\'re evaluating alternatives to Productboard. If Miro could show customer evidence per backlog item, that would be compelling.', source: 'Gong call, Enterprise PM', type: 'Enterprise', channel: 'Gong call' },
      { text: 'I want to see how many customers asked for a feature, the total ARR, and the top quotes ‚Äî right on the backlog item.', source: 'Design partner feedback', type: 'Enterprise', channel: 'Customer interview' },
    ],
    usage: [],
    strategy: ['O1: Win R&D ‚Äî sellable product line', 'O4: Next Horizon ‚Äî AI-first'],
    market: ['Productboard: Spark AI feedback synthesis ‚Äî GA', 'Aha!: Customer evidence per feature ‚Äî GA'],
  },
  'kanban-deps': {
    title: 'Kanban Dependencies',
    tag: 'tag-warning-subtle', tagText: 'Medium confidence',
    meta: 'PayPal requested ¬∑ 9.1% multi-day engagement ¬∑ RICE: 58',
    signals: {voc:true, usage:true, strategy:false, market:false},
    quotes: [
      { text: 'We need swim lanes and sub-records in Kanban. Our teams use it daily but the lack of dependencies means we can\'t see blocked items.', source: 'PayPal, Senior PM', type: 'Enterprise', channel: 'Gong call', arr: '$310K' },
    ],
    usage: [
      { label: 'Kanban multi-day engagement', value: '9.1%', detail: 'Highest across all views (2x Tables)', pct: 91, color: 'var(--background-success-prominent)' },
    ],
    strategy: [],
    market: [],
  },
  'views-parity': {
    title: 'Views Parity (Timeline/Kanban)',
    tag: 'tag-warning-subtle', tagText: 'Medium confidence',
    meta: 'FY27 Q1 planning ¬∑ Core usability issue ¬∑ RICE: 71',
    signals: {voc:true, usage:true, strategy:true, market:false},
    quotes: [
      { text: 'Users cannot manage fields in Timeline or Kanban, only in Tables. This inconsistency causes constant friction and support tickets.', source: 'FY27 Q1 Planning board', type: 'Internal', channel: 'Internal' },
    ],
    usage: [],
    strategy: ['O2: Drive Adoption ‚Äî usability blocker'],
    market: [],
  },
  'ai-signal-synthesis': {
    title: 'AI Signal Synthesis (Feasibility)',
    tag: 'tag-warning-subtle', tagText: 'Medium confidence',
    meta: 'Leapfrog bet ¬∑ No competitor has cracked this ¬∑ RICE: 67',
    signals: {voc:false, usage:false, strategy:true, market:true},
    quotes: [
      { text: 'The magic is in cross-signal synthesis ‚Äî a weak signal across four sources becomes a strong signal when combined.', source: 'Andrey Khusid, CEO', type: 'Internal', channel: 'Sync Feb 18' },
    ],
    usage: [],
    strategy: ['O1: Win R&D ‚Äî the leapfrog bet', 'O4: Next Horizon ‚Äî AI-first transformation'],
    market: ['Linear Pulse: Execution signals only ‚Äî limited', 'Productboard Spark: Feedback synthesis only', 'No competitor has cross-signal AI roadmapping'],
  },
  'ai-table-setup': {
    title: 'AI-Assisted Table Setup',
    tag: 'tag-warning-subtle', tagText: 'Medium confidence',
    meta: '53% deletion rate signal ¬∑ RICE: 64',
    signals: {voc:false, usage:true, strategy:true, market:false},
    quotes: [
      { text: '53% of tables deleted within 2 days of creation. Only 9% of users return in Week 1. AI-generated templates could solve the blank canvas problem.', source: 'Analytics + Growth Design Sprint', type: 'Internal', channel: 'Internal analysis' },
    ],
    usage: [
      { label: 'Tables deleted within 2 days', value: '53%', detail: 'Critical first-experience failure', pct: 53, color: 'var(--background-danger-prominent)' },
      { label: 'Week 1 return rate', value: '9%', detail: 'vs 52.7% for boards with table creation day 1', pct: 9, color: 'var(--background-danger-prominent)' },
    ],
    strategy: ['O2: Drive Adoption ‚Äî retention emergency', 'O4: Next Horizon ‚Äî AI-first'],
    market: [],
  },
};

function openPanel(cardId, el) {
  const data = CARD_DATA[cardId];
  if (!data) return;
  document.querySelectorAll('.panel-active').forEach(c => c.classList.remove('panel-active'));
  if (el) el.classList.add('panel-active');

  const body = document.getElementById('skBody');
  const signalBtns = [
    data.signals.voc ? `<button class="sp-dive-btn" onclick="showSection('voc','${cardId}',this)"><div class="sp-dive-dot" style="background:var(--background-brand-prominent)"></div>Customer quotes (${data.quotes.length})</button>` : '',
    data.signals.usage || data.usage.length ? `<button class="sp-dive-btn" onclick="showSection('usage','${cardId}',this)"><div class="sp-dive-dot" style="background:var(--background-success-prominent)"></div>Usage data (${data.usage.length})</button>` : '',
    data.signals.strategy || data.strategy.length ? `<button class="sp-dive-btn" onclick="showSection('strategy','${cardId}',this)"><div class="sp-dive-dot" style="background:var(--background-danger-prominent)"></div>Strategy alignment</button>` : '',
    data.signals.market || data.market.length ? `<button class="sp-dive-btn" onclick="showSection('market','${cardId}',this)"><div class="sp-dive-dot" style="background:var(--background-warning-prominent)"></div>Competitor context</button>` : '',
  ].filter(Boolean).join('');

  body.innerHTML = `
    <div class="sp-context">
      <div class="sp-context-title"><span class="tag ${data.tag}">${data.tagText}</span></div>
      <div style="font-size:15px; font-weight:700; margin: var(--space-200) 0 var(--space-100);">${data.title}</div>
      <div class="sp-context-meta">${data.meta}</div>
    </div>
    <div class="sp-ai-msg">
      <div class="sp-ai-avatar">‚ú¶</div>
      <div class="sp-ai-text">I've loaded the evidence for <strong>${data.title}</strong>. Where would you like to dive deeper?</div>
    </div>
    <div class="sp-dive-options">${signalBtns}</div>
    <div id="spSection"></div>
  `;

  document.getElementById('skOverlay').classList.add('open');
  document.getElementById('skPanel').classList.add('open');
}

function showSection(type, cardId, btnEl) {
  const data = CARD_DATA[cardId];
  if (!data) return;

  document.querySelectorAll('.sp-dive-btn').forEach(b => b.classList.remove('active'));
  if (btnEl) btnEl.classList.add('active');

  const sec = document.getElementById('spSection');
  let html = '';

  if (type === 'voc') {
    html = `<div class="sp-section-head"><div class="sp-dive-dot" style="background:var(--background-brand-prominent)"></div> Customer Quotes ‚Äî ${data.quotes.length} found</div>`;
    data.quotes.forEach((q, i) => {
      html += `
        <div class="sp-quote-card">
          <div class="sp-quote-text">"${q.text}"</div>
          <div class="sp-quote-source">
            <div class="sp-quote-attr">‚Äî ${q.source}</div>
            <div class="sp-quote-tags">
              <span class="tag tag-neutral">${q.channel}</span>
              ${q.arr ? `<span class="tag tag-success-subtle">${q.arr} ARR</span>` : ''}
              <span class="tag ${q.type === 'Enterprise' ? 'tag-danger-subtle' : 'tag-primary-subtle'}">${q.type}</span>
            </div>
          </div>
        </div>`;
    });
    html += `<button class="sp-validate-btn" onclick="this.innerHTML='‚úì Marked as validated'; this.style.color='var(--text-success)'; this.style.borderColor='var(--border-success)'; this.style.background='var(--background-success-subtle)'">
      ‚úì I've validated these quotes ‚Äî evidence checks out
    </button>`;
  }

  if (type === 'usage') {
    html = `<div class="sp-section-head"><div class="sp-dive-dot" style="background:var(--background-success-prominent)"></div> Usage Data</div>`;
    data.usage.forEach(u => {
      html += `
        <div class="sp-usage-card">
          <div style="display:flex; justify-content:space-between; align-items:baseline; margin-bottom:var(--space-100);">
            <div class="sp-usage-label">${u.label}</div>
            <div class="sp-usage-stat">${u.value}</div>
          </div>
          <div class="sp-usage-bar-track"><div class="sp-usage-bar-fill" style="width:${u.pct}%; background:${u.color}"></div></div>
          <div style="font-size:11px; color:var(--text-tertiary)">${u.detail}</div>
        </div>`;
    });
    if (data.usage.length === 0) {
      html += `<div class="sp-ai-msg"><div class="sp-ai-avatar">‚ú¶</div><div class="sp-ai-text">No usage data connected for this item yet. Connect Snowflake or Amplitude to enrich.</div></div>`;
    }
  }

  if (type === 'strategy') {
    html = `<div class="sp-section-head"><div class="sp-dive-dot" style="background:var(--background-danger-prominent)"></div> Strategy Alignment</div>`;
    if (data.strategy.length) {
      data.strategy.forEach(s => {
        html += `<div style="display:flex; align-items:center; gap:var(--space-200); padding:var(--space-300); background:var(--background-secondary); border-radius:var(--radius-200); border:1px solid var(--border-primary); margin-bottom:var(--space-200); font-size:13px;">
          <span style="color:var(--text-success); font-size:14px;">‚óè</span> ${s}
        </div>`;
      });
    } else {
      html += `<div class="sp-ai-msg"><div class="sp-ai-avatar">‚ú¶</div><div class="sp-ai-text">This item hasn't been mapped to any OKR yet. Would you like me to suggest alignment?</div></div>`;
    }
  }

  if (type === 'market') {
    html = `<div class="sp-section-head"><div class="sp-dive-dot" style="background:var(--background-warning-prominent)"></div> Competitor Context</div>`;
    if (data.market.length) {
      data.market.forEach(m => {
        html += `<div style="padding:var(--space-300); background:var(--background-secondary); border-radius:var(--radius-200); border:1px solid var(--border-primary); margin-bottom:var(--space-200); font-size:13px; color:var(--text-secondary);">${m}</div>`;
      });
    } else {
      html += `<div class="sp-ai-msg"><div class="sp-ai-avatar">‚ú¶</div><div class="sp-ai-text">No competitor activity detected for this area. Market signal source may need updating.</div></div>`;
    }
  }

  sec.innerHTML = html;
}

function sendMsg() {
  const input = document.getElementById('skInput');
  const msg = input.value.trim();
  if (!msg) return;
  input.value = '';

  const sec = document.getElementById('spSection');
  sec.innerHTML += `
    <div style="display:flex; gap:var(--space-300); align-items:flex-start; justify-content:flex-end; margin-top:var(--space-300);">
      <div style="font-size:13px; color:var(--text-primary); background:var(--background-brand-subtle); padding:var(--space-300) var(--space-400); border-radius:var(--radius-200) 2px var(--radius-200) var(--radius-200); max-width:80%;">${msg}</div>
    </div>
    <div class="sp-ai-msg" style="margin-top:var(--space-300);">
      <div class="sp-ai-avatar">‚ú¶</div>
      <div class="sp-ai-text">Let me look into that. Searching across Gong transcripts, Slack threads, and Insights for relevant evidence‚Ä¶<br><br><em style="color:var(--text-tertiary)">[In the real product, this would query connected data sources and return specific quotes, metrics, or context.]</em></div>
    </div>
  `;
  sec.scrollIntoView({ behavior: 'smooth', block: 'end' });
}

function openPlanSidekick() {
  const body = document.getElementById('skBody');
  body.innerHTML = `
    <div class="sp-context">
      <div style="display:flex; align-items:center; gap:var(--space-200); margin-bottom:var(--space-200);">
        <span style="font-size:28px; font-weight:700; color:var(--text-warning);">50%</span>
        <span class="tag tag-warning-subtle">5 of 10 items have usage data</span>
      </div>
      <div class="sp-context-title">Plan Confidence Analysis</div>
      <div class="sp-context-meta">Snowflake data loaded ¬∑ Gong calls analysed ¬∑ Competitor CSV parsed</div>
    </div>
    <div class="sp-ai-msg">
      <div class="sp-ai-avatar">‚ú¶</div>
      <div class="sp-ai-text">I've analysed your plan against Snowflake usage data, Gong calls, and competitor intelligence. Found <strong>3 actions</strong> that could raise confidence. Key stat: Tables 59% deletion rate needs addressing before enterprise rollout.</div>
    </div>

    <div class="sp-section-head" style="margin-top:var(--space-200);">High impact</div>
    <div class="sp-rec-card" onclick="this.querySelector('.sp-rec-detail').classList.toggle('visible')">
      <div class="sp-rec-header">
        <div class="sp-rec-num">1</div>
        <div class="sp-rec-content">
          <div class="sp-rec-title">Run a feasibility spike for Cross-signal synthesis</div>
          <div class="sp-rec-tag"><span class="tag tag-danger-subtle">High confidence impact</span></div>
          <div class="sp-rec-reason">Andrey: "We need to check feasibility, put it in front of customers, validate hypotheses... THEN start building." AI table gen has 23K users but only 5-7% W1 retention ‚Äî feasibility must prove AI value lands.</div>
        </div>
      </div>
      <div class="sp-rec-detail">
        <div style="font-size:11px; font-weight:600; color:var(--text-tertiary); text-transform:uppercase; letter-spacing:0.5px; margin-bottom:var(--space-200);">Why this matters</div>
        <div class="sp-quote-card" style="margin-bottom:var(--space-200);">
          <div class="sp-quote-text">"The magic is in cross-signal synthesis ‚Äî a weak signal across four sources becomes a strong signal when combined."</div>
          <div class="sp-quote-source"><div class="sp-quote-attr">‚Äî Andrey Khusid, CEO, Feb 18 2026 sync</div></div>
        </div>
        <div style="font-size:12px; color:var(--text-secondary); line-height:1.5; margin-bottom:var(--space-300);">Cross-signal synthesis has <strong>no VoC evidence</strong> but Snowflake shows AI generate table has <strong>23K weekly users with only 5-7% W1 retention</strong>. Users try AI features but value doesn't land. Lauren: AI efficacy with Tables "a ways off from nailing the workflows." A spike would validate whether cross-signal can break this pattern.</div>
        <div style="display:flex; flex-wrap:wrap; gap:var(--space-200);">
          <button class="btn btn-sm btn-primary" onclick="event.stopPropagation()">Create spike ticket</button>
          <button class="btn btn-sm btn-secondary" onclick="event.stopPropagation()">Add to Q1 sprint</button>
        </div>
      </div>
    </div>

    <div class="sp-rec-card" onclick="this.querySelector('.sp-rec-detail').classList.toggle('visible')">
      <div class="sp-rec-header">
        <div class="sp-rec-num">2</div>
        <div class="sp-rec-content">
          <div class="sp-rec-title">Gather usage data for Insights enrichment</div>
          <div class="sp-rec-tag"><span class="tag tag-warning-subtle">Medium confidence impact</span></div>
          <div class="sp-rec-reason">PVCase, Element Logic Gong calls on prioritization. Snowflake shows Tables 26.7% W1 retention ‚Äî enrichment could improve value delivery and reduce 59% deletion rate.</div>
        </div>
      </div>
      <div class="sp-rec-detail">
        <div style="font-size:11px; font-weight:600; color:var(--text-tertiary); text-transform:uppercase; letter-spacing:0.5px; margin-bottom:var(--space-200);">Key Snowflake metrics</div>
        <div style="display:flex; flex-wrap:wrap; gap:var(--space-200); margin-bottom:var(--space-300);">
          <div style="flex:1; min-width:140px; padding:var(--space-300) var(--space-300) var(--space-400); background:var(--background-danger-subtle); border-radius:var(--radius-200); font-size:12px; text-align:center;">
            <div style="font-weight:600; color:var(--text-danger);">59.3% deletion rate</div>
            <div style="color:var(--text-secondary); margin-top:2px;">8M of 13.5M tables deleted</div>
          </div>
          <div style="flex:1; min-width:140px; padding:var(--space-300) var(--space-300) var(--space-400); background:var(--background-warning-subtle); border-radius:var(--radius-200); font-size:12px; text-align:center;">
            <div style="font-weight:600; color:var(--text-warning);">Productboard Spark</div>
            <div style="color:var(--text-secondary); margin-top:2px;">Competitor: feedback synthesis (Jan 2026)</div>
          </div>
        </div>
        <div style="display:flex; flex-wrap:wrap; gap:var(--space-200);">
          <button class="btn btn-sm btn-primary" onclick="event.stopPropagation()">Request instrumentation</button>
          <button class="btn btn-sm btn-secondary" onclick="event.stopPropagation()">Add competitor review</button>
        </div>
      </div>
    </div>

    <div class="sp-section-head">Medium impact</div>
    <div class="sp-rec-card" onclick="this.querySelector('.sp-rec-detail').classList.toggle('visible')">
      <div class="sp-rec-header">
        <div class="sp-rec-num">3</div>
        <div class="sp-rec-content">
          <div class="sp-rec-title">Validate Jira sync with customer interviews</div>
          <div class="sp-rec-tag"><span class="tag tag-primary-subtle">Lower confidence impact</span></div>
          <div class="sp-rec-reason">Booking.com, Adobe, Ford Gong calls + Snowflake: 45% W1 retention (16K users). Targeted follow-ups would confirm bi-directional sync scope and arrest the 20K‚Üí16K user decline.</div>
        </div>
      </div>
      <div class="sp-rec-detail">
        <div style="font-size:11px; font-weight:600; color:var(--text-tertiary); text-transform:uppercase; letter-spacing:0.5px; margin-bottom:var(--space-200);">Suggested interviewees</div>
        <div style="font-size:12px; color:var(--text-secondary); line-height:1.6; margin-bottom:var(--space-300);">
          Based on Gong call participation:<br>
          <strong>1.</strong> Booking.com (Justin Vos, Ayta√ß Bildik, Matt Skipper ‚Äî Jira sessions Jan 16, Feb 6 2026)<br>
          <strong>2.</strong> Adobe (Veronica Murillo, David Grabner ‚Äî Feature Request Jan 14 2026)<br>
          <strong>3.</strong> Ford (Melanie Petrucci, Ayta√ß Bildik ‚Äî OneDrive Jan 27 2026)
        </div>
        <div style="display:flex; flex-wrap:wrap; gap:var(--space-200);">
          <button class="btn btn-sm btn-primary" onclick="event.stopPropagation()">Draft interview request</button>
          <button class="btn btn-sm btn-secondary" onclick="event.stopPropagation()">View their usage</button>
        </div>
      </div>
    </div>

    <div style="margin-top:var(--space-400); padding:var(--space-400); background:var(--background-secondary); border-radius:var(--radius-200); border:1px solid var(--border-primary);">
      <div style="font-size:11px; font-weight:700; text-transform:uppercase; letter-spacing:0.5px; color:var(--text-tertiary); margin-bottom:var(--space-300);">Projected outcome</div>
      <div style="font-size:12px; color:var(--text-secondary); line-height:1.5;">Snowflake data loaded. Key risks identified: Tables 59% deletion rate threatens enterprise rollout. AI features growing (23K users) but 5-7% retention. Jira has loyal base (45% retention) but declining headcount. Addressing these 3 actions would strengthen evidence on the riskiest initiatives.</div>
      <div style="margin-top:var(--space-300); font-size:11px; color:var(--text-tertiary);">~3 weeks of effort across all 3 actions</div>
    </div>
  `;

  document.getElementById('skOverlay').classList.add('open');
  document.getElementById('skPanel').classList.add('open');
  document.body.classList.add('panel-open');
}

function closePanel() {
  document.getElementById('skOverlay').classList.remove('open');
  document.getElementById('skPanel').classList.remove('open');
  document.querySelectorAll('.panel-active').forEach(c => c.classList.remove('panel-active'));
}

function go(id, el) {
  closePanel();
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.nav .tab').forEach(t => t.classList.remove('active'));
  document.getElementById(id).classList.add('active');
  el.classList.add('active');
  window.scrollTo(0, 0);
}

function goToPlanWithSidekick() {
  document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
  document.querySelectorAll('.nav .tab').forEach(t => t.classList.remove('active'));
  document.getElementById('plan').classList.add('active');
  document.querySelectorAll('.nav .tab')[2].classList.add('active');
  window.scrollTo(0, 0);
  setTimeout(() => openPlanSidekick(), 300);
}

function openStrengthened() {
  const body = document.getElementById('skBody');
  body.innerHTML = `
    <div class="sp-context">
      <div class="sp-context-title"><span class="tag tag-success-subtle">Strengthened</span></div>
      <div style="font-size:15px; font-weight:700; margin: var(--space-200) 0 var(--space-100);">2 items strengthened since last briefing</div>
      <div class="sp-context-meta">These items gained new supporting evidence</div>
    </div>
    <div class="sp-ai-msg">
      <div class="sp-ai-avatar">‚ú¶</div>
      <div class="sp-ai-text">Two items in your plan got stronger this week. Here's what changed.</div>
    </div>
    <div style="margin-top:var(--space-300);">
      <div style="padding:var(--space-400); background:var(--background-primary); border:1px solid var(--border-primary); border-left:3px solid var(--border-success); border-radius:var(--radius-200); margin-bottom:var(--space-300); cursor:pointer;" onclick="openPanel('jira-custom-fields')">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:var(--space-200);">
          <div style="font-size:14px; font-weight:600;">Jira Custom Fields</div>
          <span class="tag tag-danger-subtle">High confidence</span>
        </div>
        <div style="font-size:12px; color:var(--text-secondary); line-height:1.5; margin-bottom:var(--space-200);">+7 new Gong mentions this week ¬∑ 2 new enterprise accounts ¬∑ ARR impact now $2.1M</div>
        <div style="font-size:11px; color:var(--text-success); font-weight:600;">‚Üë Moved from Medium ‚Üí High confidence</div>
      </div>
      <div style="padding:var(--space-400); background:var(--background-primary); border:1px solid var(--border-primary); border-left:3px solid var(--border-success); border-radius:var(--radius-200); cursor:pointer;" onclick="openPanel('convert-rows-jira')">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:var(--space-200);">
          <div style="font-size:14px; font-weight:600;">Convert Rows ‚Üí Jira Tickets</div>
          <span class="tag tag-danger-subtle">High confidence</span>
        </div>
        <div style="font-size:12px; color:var(--text-secondary); line-height:1.5; margin-bottom:var(--space-200);">Monday.com shipped native Jira creation (GA) ‚Äî competitive urgency increased</div>
        <div style="font-size:11px; color:var(--text-success); font-weight:600;">‚Üë New market signal added</div>
      </div>
    </div>
  `;
  document.getElementById('skOverlay').classList.add('open');
  document.getElementById('skPanel').classList.add('open');
}

function openNewSignals() {
  const body = document.getElementById('skBody');
  body.innerHTML = `
    <div class="sp-context">
      <div class="sp-context-title"><span class="tag tag-primary-subtle">New signal</span></div>
      <div style="font-size:15px; font-weight:700; margin: var(--space-200) 0 var(--space-100);">1 new signal detected</div>
      <div class="sp-context-meta">This wasn't in your top 20 ‚Äî worth investigating</div>
    </div>
    <div class="sp-ai-msg">
      <div class="sp-ai-avatar">‚ú¶</div>
      <div class="sp-ai-text">I found a new pattern across 3 enterprise accounts that doesn't match any existing backlog item.</div>
    </div>
    <div style="margin-top:var(--space-300);">
      <div style="padding:var(--space-400); background:var(--background-primary); border:1px solid var(--border-primary); border-left:3px solid var(--border-brand); border-radius:var(--radius-200); cursor:pointer;" onclick="openPanel('portfolio-view')">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:var(--space-200);">
          <div style="font-size:14px; font-weight:600;">Portfolio View for Leaders</div>
          <span class="tag tag-primary-subtle">New signal</span>
        </div>
        <div style="font-size:12px; color:var(--text-secondary); line-height:1.5; margin-bottom:var(--space-200);">3 enterprise accounts mentioned "portfolio view" in Gong calls ¬∑ $890K combined ARR</div>
        <div style="display:flex; gap:var(--space-200); margin-top:var(--space-300);">
          <button class="btn btn-sm btn-secondary" onclick="event.stopPropagation(); openPanel('portfolio-view')">View evidence</button>
          <button class="btn btn-sm btn-tertiary" onclick="event.stopPropagation()">Create backlog item</button>
          <button class="btn btn-sm btn-ghost" onclick="event.stopPropagation()">Dismiss</button>
        </div>
      </div>
    </div>
  `;
  document.getElementById('skOverlay').classList.add('open');
  document.getElementById('skPanel').classList.add('open');
}

function openWeakened() {
  const body = document.getElementById('skBody');
  body.innerHTML = `
    <div class="sp-context">
      <div class="sp-context-title"><span class="tag tag-danger-subtle">Weakened</span></div>
      <div style="font-size:15px; font-weight:700; margin: var(--space-200) 0 var(--space-100);">1 item weakened since last briefing</div>
      <div class="sp-context-meta">This item lost evidence support ‚Äî may need attention</div>
    </div>
    <div class="sp-ai-msg">
      <div class="sp-ai-avatar">‚ú¶</div>
      <div class="sp-ai-text">One item's evidence got weaker. Usage data shows a decline that wasn't there last week.</div>
    </div>
    <div style="margin-top:var(--space-300);">
      <div style="padding:var(--space-400); background:var(--background-primary); border:1px solid var(--border-primary); border-left:3px solid var(--border-danger); border-radius:var(--radius-200); cursor:pointer;" onclick="openPanel('silent-abandonment')">
        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:var(--space-200);">
          <div style="font-size:14px; font-weight:600;">Feature Y ‚Äî Silent Abandonment</div>
          <span class="tag tag-warning-subtle">Medium confidence</span>
        </div>
        <div style="font-size:12px; color:var(--text-secondary); line-height:1.5; margin-bottom:var(--space-200);">Adoption dropped from 8.2% ‚Üí 4.7% over 6 weeks ¬∑ No customer complaints (that's the concern)</div>
        <div style="font-size:11px; color:var(--text-danger); font-weight:600;">‚Üì Usage signal weakened ‚Äî approaching 5% threshold</div>
      </div>
    </div>
  `;
  document.getElementById('skOverlay').classList.add('open');
  document.getElementById('skPanel').classList.add('open');
}
</script>
</body>
</html>